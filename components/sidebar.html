<!-- components/sidebar.html -->
<aside id="sidebar-container"
  class="bg-[var(--surface)] h-screen flex flex-col border-r border-[var(--border)] shadow-xl z-50 relative">

  <!-- HEADER: Logo + Toggle -->
  <div class="p-6 flex items-center justify-between">
    <div class="flex items-center gap-3 overflow-hidden whitespace-nowrap logo-text">
      <div
        class="w-10 h-10 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white shadow-lg">
        <span class="material-icons">school</span>
      </div>
      <span class="font-bold text-xl tracking-tight text-[var(--text)]">Asesor IA</span>
    </div>
    <button id="sidebar-toggle"
      class="p-2 rounded-lg hover:bg-[var(--background)] text-[var(--text-secondary)] transition-colors">
      <span class="material-icons">menu_open</span>
    </button>
  </div>

  <!-- NAVIGATION -->
  <nav class="flex-1 px-4 space-y-2 overflow-y-auto py-4">
    <a href="revision.html" class="nav-item" data-page="revision">
      <span class="material-icons text-xl">edit_document</span>
      <span class="nav-text font-medium">Revisión Tesis</span>
    </a>
    <a href="bibliografia.html" class="nav-item" data-page="bibliografia">
      <span class="material-icons text-xl">library_books</span>
      <span class="nav-text font-medium">Bibliografía APA</span>
    </a>
  </nav>

  <!-- FOOTER: User + Theme -->
  <div class="p-4 border-t border-[var(--border)] space-y-2">
    <!-- Theme Toggle -->
    <button data-theme-toggle class="w-full nav-item justify-between group">
      <div class="flex items-center gap-3">
        <span class="material-icons">dark_mode</span>
        <span class="nav-text font-medium">Tema Oscuro</span>
      </div>
      <div class="w-10 h-5 bg-gray-300 rounded-full relative dark:bg-indigo-600 transition-colors nav-text">
        <div class="w-3 h-3 bg-white rounded-full absolute top-1 left-1 dark:left-6 transition-all shadow-sm"></div>
      </div>
    </button>

    <!-- Logout Button -->
    <button id="logout-btn" class="w-full nav-item text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 justify-start">
      <span class="material-icons">logout</span>
      <span class="nav-text font-medium">Cerrar Sesión</span>
    </button>

    <!-- User Profile -->
    <div class="flex items-center gap-3 px-4 py-3 rounded-xl bg-[var(--background)] overflow-hidden whitespace-nowrap">
      <div id="user-initial"
        class="w-8 h-8 rounded-full bg-gradient-to-r from-pink-500 to-rose-500 flex items-center justify-center text-white text-xs font-bold shadow-sm">
        U
      </div>
      <div class="flex flex-col logo-text">
        <span id="user-email" class="text-sm font-semibold text-[var(--text)]">Cargando...</span>
        <span class="text-xs text-[var(--text-secondary)]">Estudiante</span>
      </div>
    </div>
  </div>
</aside>